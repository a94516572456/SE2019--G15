window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return i(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({JsonOb:[function(t,e,o){"use strict";cc._RF.push(e,"000b00Lx19Ke4hAFc9/Qlnh","JsonOb"),Object.defineProperty(o,"__esModule",{value:!0});var n=Object.prototype,i={obj:"[object Object]",array:"[object Array]"},r=["push","pop","shift","unshift","short","reverse","splice"],c=function(){function t(t,e){n.toString.call(t)!==i.obj&&n.toString.call(t)!==i.array&&console.error("\u8bf7\u4f20\u5165\u4e00\u4e2a\u5bf9\u8c61\u6216\u6570\u7ec4"),this._callback=e,this.observe(t)}return t.prototype.observe=function(t,e){var o=this;n.toString.call(t)===i.array&&this.overrideArrayProto(t,e),Object.keys(t).forEach(function(r){var c=o,a=t[r],s=e&&e.slice();s?s.push(r):s=[r],Object.defineProperty(t,r,{get:function(){return a},set:function(t){a!==t&&("[object Object]"===n.toString.call(t)&&c.observe(t,s),c._callback(t,a,s),a=t)}}),n.toString.call(t[r])!==i.obj&&n.toString.call(t[r])!==i.array||o.observe(t[r],s)},this)},t.prototype.overrideArrayProto=function(t,e){var o,n=Array.prototype,i=Object.create(Array.prototype),c=this;r.forEach(function(t){Object.defineProperty(i,t,{value:function(){var i=this.slice();return o=n[t].apply(this,arguments),c.observe(this,e),c._callback(this,i,e),o}})}),t.__proto__=i},t}();o.JsonOb=c,cc._RF.pop()},{}],StringFormat:[function(t,e,o){"use strict";cc._RF.push(e,"85fe8Gc6h5Ava+JsdbBs8cR","StringFormat"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.deal=function(t,e){if(""===e)return t;var o,n=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),r="",c="";if(n&&(r=n[0]),i&&(o=parseInt(i[0])),"number"==typeof t)switch(r){case"int":c=this.int(t);break;case"fix":c=this.fix(t,o);break;case"kmbt":c=this.KMBT(t);break;case"per":c=this.per(t,o);break;case"sep":c=this.sep(t)}else{switch(r){case"limit":c=this.limit(t,o)}c=t}return c},t.prototype.sep=function(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},t.prototype.time_m=function(t){},t.prototype.time_s=function(t){},t.prototype.time_ms=function(t){},t.prototype.timeStamp=function(t){return new Date(t).toString()},t.prototype.per=function(t,e){return Math.round(100*t).toFixed(e)},t.prototype.int=function(t){return Math.round(t)},t.prototype.fix=function(t,e){return t.toFixed(e)},t.prototype.limit=function(t,e){return t.substring(0,e)},t.prototype.KMBT=function(t,e){void 0===e&&(e="en");switch(e){case"zh":}return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)},t.prototype.compressUnit=function(t,e,o,n){void 0===n&&(n=2);var i,r,c=e,a=o;for(r=0;r<c.length;r++){if(t<c[r]){i=r>0?(t/c[r-1]).toFixed(n):t.toFixed(0);break}}return i+a[r]},t}();o.StringFormatFunction=new n,cc._RF.pop()},{}],VMBase:[function(t,e,o){"use strict";cc._RF.push(e,"2f6f36IvUdPO7xynnVTPgzb","VMBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ViewModel"),i=cc._decorator,r=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.watchPathArr=[],e.templateMode=!1,e.templateValueArr=[],e.VM=n.VM,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;for(var e=this.watchPath.split("."),o=1;o<e.length;o++){if("*"==e[o]){(c=this.node.getParent().children.findIndex(function(e){return e===t.node}))<=0&&(c=0),e[o]=c.toString();break}}this.watchPath=e.join(".");var n=this.watchPathArr;if(n.length>=1)for(o=0;o<n.length;o++){for(var i=n[o].split("."),r=1;r<i.length;r++){if("*"==i[r]){var c;(c=this.node.getParent().children.findIndex(function(e){return e===t.node}))<=0&&(c=0),i[r]=c.toString();break}}this.watchPathArr[o]=i.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&cc.log("\u53ef\u80fd\u672a\u8bbe\u7f6e\u8def\u5f84\u7684\u8282\u70b9:",this.node.getParent().name+"."+this.node.name)},e.prototype.onEnable=function(){this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit()},e.prototype.onDisable=function(){this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this)},e.prototype.setMultPathEvent=function(t){void 0===t&&(t=!0);for(var e=this.watchPathArr,o=0;o<e.length;o++){var n=e[o];t?this.VM.bindPath(n,this.onValueChanged,this):this.VM.unbindPath(n,this.onValueChanged,this)}},e.prototype.onValueInit=function(){},e.prototype.onValueChanged=function(t,e,o){},e=__decorate([r],e)}(cc.Component));o.default=c,cc._RF.pop()},{"./ViewModel":"ViewModel"}],VMCompsEdit:[function(t,e,o){"use strict";cc._RF.push(e,"2359eFXKF5HFYS74K7Y17/U","VMCompsEdit"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=cc._decorator,r=i.ccclass,c=i.property,a=i.executeInEditMode,s=i.menu;(function(t){t[t.SEARCH_COMPONENT=0]="SEARCH_COMPONENT",t[t.ENABLE_COMPONENT=1]="ENABLE_COMPONENT",t[t.REPLACE_WATCH_PATH=2]="REPLACE_WATCH_PATH",t[t.DELETE_COMPONENT=3]="DELETE_COMPONENT"})(n||(n={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.findList=["VMBase","VMParent"],e.actionType=n.SEARCH_COMPONENT,e.allowDelete=!1,e.targetPath="game",e.replacePath="*",e.canCollectNodes=!1,e.collectNodes=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"findTrigger",{get:function(){return!1},set:function(t){this.setComponents(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableTrigger",{get:function(){return!1},set:function(t){this.setComponents(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableTrigger",{get:function(){return!1},set:function(t){this.setComponents(2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deleteTrigger",{get:function(){return!1},set:function(t){this.setComponents(3)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replaceTrigger",{get:function(){return!1},set:function(t){this.setComponents(4)},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){var t=this.getNodePath(this.node);console.error("you forget delete MVEditFinder,[path]",t)},e.prototype.setComponents=function(t){var e=this,o=this.findList,n="\u641c\u7d22\u5230\u5f53\u524d\u8282\u70b9\u4e0b\u9762\u7684\u7ec4\u4ef6";switch(t){case 0:n="\u641c\u7d22\u5230\u5f53\u524d\u8282\u70b9\u4e0b\u9762\u7684\u7ec4\u4ef6";break;case 1:n="\u6fc0\u6d3b\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 2:n="\u5173\u95ed\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 3:n="\u5220\u9664\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 4:n="\u66ff\u6362\u4ee5\u4e0b\u8282\u70b9\u7684\u8def\u5f84"}cc.log(n),cc.log("______________________"),o.forEach(function(o){e.searchComponent(o,t)}),cc.log("______________________")},e.prototype.searchComponent=function(t,e){var o=this;void 0===e&&(e=0),this.collectNodes=[];var n=this.node.getComponentsInChildren(t);null==n||n.length<1||(cc.log("["+t+"]:"),n.forEach(function(t){var n="";switch(e<=3&&(n=!0===t.templateMode?t.watchPathArr?":[Path:"+t.watchPathArr.join("|")+"]":"":t.watchPath?":[Path:"+t.watchPath+"]":""),cc.log(o.getNodePath(t.node)+n),e){case 0:o.canCollectNodes&&-1===o.collectNodes.indexOf(t.node)&&o.collectNodes.push(t.node);break;case 1:t.enabled=!0;break;case 2:t.enabled=!1;break;case 3:t.node.removeComponent(t);break;case 4:var i=o.targetPath,r=o.replacePath;if(!0===t.templateMode)for(var c=0;c<t.watchPathArr.length;c++){var a=t.watchPathArr[c];t.watchPathArr[c]=o.replaceNodePath(a,i,r)}else t.watchPath=o.replaceNodePath(t.watchPath,i,r)}}))},e.prototype.replaceNodePath=function(t,e,o){for(var n=t.split("."),i=e.split("."),r=o.split("."),c=!0,a=0;a<i.length;a++)if(n[a]!==i[a]){c=!1;break}if(!0===c){for(a=0;a<r.length;a++)n[a]=r[a];cc.log(" \u8def\u5f84\u66f4\u65b0:",t,">>>",n.join("."))}return n.join(".")},e.prototype.getNodePath=function(t){for(var e=t,o=[];e;){var n=e.getParent();if(!n)break;o.push(e.name),e=n}return o.reverse().join("/")},__decorate([c({type:[cc.String]})],e.prototype,"findList",void 0),__decorate([c({type:cc.Enum(n)})],e.prototype,"actionType",void 0),__decorate([c({tooltip:"\u52fe\u9009\u540e,\u4f1a\u81ea\u52a8\u67e5\u627e find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===n.SEARCH_COMPONENT}})],e.prototype,"findTrigger",null),__decorate([c({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u6fc0\u6d3b find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===n.ENABLE_COMPONENT}})],e.prototype,"enableTrigger",null),__decorate([c({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u5173\u95ed find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===n.ENABLE_COMPONENT}})],e.prototype,"disableTrigger",null),__decorate([c({tooltip:"\u5141\u8bb8\u5220\u9664\u8282\u70b9\u7684\u7ec4\u4ef6,\u786e\u5b9a\u9700\u8981\u79fb\u9664\u8bf7\u52fe\u9009,\u9632\u6b62\u8bef\u64cd\u4f5c",visible:function(){return this.actionType===n.DELETE_COMPONENT}})],e.prototype,"allowDelete",void 0),__decorate([c({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u5220\u9664 find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",displayName:"[ X DELETE X ]",visible:function(){return this.allowDelete&&this.actionType===n.DELETE_COMPONENT}})],e.prototype,"deleteTrigger",null),__decorate([c({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u66ff\u6362\u6389\u6307\u5b9a\u7684\u8def\u5f84",visible:function(){return this.actionType===n.REPLACE_WATCH_PATH}})],e.prototype,"replaceTrigger",null),__decorate([c({tooltip:"\u5339\u914d\u7684\u8def\u5f84,\u5339\u914d\u89c4\u5219: \u641c\u7d22\u5f00\u5934\u4e3a game\u7684\u8def\u5f84",visible:function(){return this.actionType===n.REPLACE_WATCH_PATH}})],e.prototype,"targetPath",void 0),__decorate([c({tooltip:"\u66ff\u6362\u7684\u8def\u5f84,\u5c06\u5339\u914d\u5230\u7684\u8def\u5f84\u66ff\u6362",visible:function(){return this.actionType===n.REPLACE_WATCH_PATH}})],e.prototype,"replacePath",void 0),__decorate([c({tooltip:"\u662f\u5426\u641c\u96c6\u7ed1\u5b9aVM\u7ec4\u4ef6\u7684\u8282\u70b9?",visible:function(){return this.actionType===n.SEARCH_COMPONENT}})],e.prototype,"canCollectNodes",void 0),__decorate([c({type:[cc.Node],readonly:!0,tooltip:"\u6536\u96c6\u5230\u7ed1\u5b9a\u4e86VM\u7ec4\u4ef6\u76f8\u5173\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u81ea\u5df1\u8df3\u8f6c\u8fc7\u53bb",visible:function(){return this.canCollectNodes&&this.actionType===n.SEARCH_COMPONENT}})],e.prototype,"collectNodes",void 0),e=__decorate([r,a,s("ModelViewer/Edit-Comps (\u5feb\u901f\u7ec4\u4ef6\u64cd\u4f5c)")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],VMCustom:[function(t,e,o){"use strict";cc._RF.push(e,"ce662fwsSVPLKpmHx+KocFu","VMCustom"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./VMBase"),i=cc._decorator,r=i.ccclass,c=i.property,a=i.executeInEditMode,s=i.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.controller=!1,e.watchPath="",e.componentName="",e.componentProperty="",e.refreshRate=.1,e._timer=0,e._watchComponent=null,e._canWatchComponent=!1,e._oldValue=null,e}return __extends(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.checkEditorComponent(),this._watchComponent=this.node.getComponent(this.componentName),this.checkComponentState()},e.prototype.onRestore=function(){this.checkEditorComponent()},e.prototype.start=function(){this.onValueInit()},e.prototype.checkEditorComponent=function(){},e.prototype.checkComponentState=function(){this._canWatchComponent=!1,this._watchComponent?this.componentProperty?this.componentProperty in this._watchComponent!=!1?this._canWatchComponent=!0:console.error("\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e0d\u5b58\u5728"):console.error("\u672a\u8bbe\u7f6e\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6 \u7684\u5c5e\u6027"):console.error("\u672a\u8bbe\u7f6e\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6")},e.prototype.getComponentValue=function(){return this._watchComponent[this.componentProperty]},e.prototype.setComponentValue=function(t){"cc.Toggle"==this.componentName?(1==t&&this.node.getComponent(cc.Toggle).check(),0==t&&this.node.getComponent(cc.Toggle).uncheck()):this._watchComponent[this.componentProperty]=t},e.prototype.onValueInit=function(){this.setComponentValue(this.VM.getValue(this.watchPath))},e.prototype.onValueController=function(t,e){this.VM.setValue(this.watchPath,t)},e.prototype.onValueChanged=function(t,e,o){this.setComponentValue(t)},e.prototype.update=function(t){if(this.controller&&this._canWatchComponent&&!1!==this._watchComponent.enabled&&(this._timer+=t,!(this._timer<this.refreshRate))){this._timer=0;var e=this._oldValue,o=this.getComponentValue();this._oldValue!==o&&(this._oldValue=this.getComponentValue(),this.onValueController(o,e))}},__decorate([c({tooltip:"\u6fc0\u6d3bcontroller,\u4ee5\u5f00\u542f\u53cc\u5411\u7ed1\u5b9a\uff0c\u5426\u5219\u53ea\u80fd\u63a5\u6536\u6d88\u606f"})],e.prototype,"controller",void 0),__decorate([c],e.prototype,"watchPath",void 0),__decorate([c({tooltip:"\u7ed1\u5b9a\u7ec4\u4ef6\u7684\u540d\u5b57"})],e.prototype,"componentName",void 0),__decorate([c({tooltip:"\u7ec4\u4ef6\u4e0a\u9700\u8981\u76d1\u542c\u7684\u5c5e\u6027"})],e.prototype,"componentProperty",void 0),__decorate([c({tooltip:"\u5237\u65b0\u95f4\u9694\u9891\u7387(\u53ea\u5f71\u54cd\u810f\u68c0\u67e5\u7684\u9891\u7387)",step:.01,range:[0,1],visible:function(){return!0===this.controller}})],e.prototype,"refreshRate",void 0),e=__decorate([r,a,s("ModelViewer/VM-Custom (\u81ea\u5b9a\u4e49VM)")],e)}(n.default);o.default=p,cc._RF.pop()},{"./VMBase":"VMBase"}],VMEvent:[function(t,e,o){"use strict";cc._RF.push(e,"a9ce7kf8XZJeLPlT2iWn2zD","VMEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("./VMBase"),r=cc._decorator,c=r.ccclass,a=r.property,s=r.executeInEditMode,p=r.menu;(function(t){t[t.none=0]="none",t[t["=="]=1]="==",t[t["!="]=2]="!=",t[t[">"]=3]=">",t[t[">="]=4]=">=",t[t["<"]=5]="<",t[t["<="]=6]="<="})(n||(n={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateMode=!1,e.watchPath="",e.triggerOnce=!1,e.watchPathArr=[],e.filterMode=n.none,e.compareValue="",e.changeEvents=[],e}return __extends(e,t),e.prototype.onValueInit=function(){},e.prototype.onValueChanged=function(t,e,o){this.conditionCheck(t,this.compareValue)&&(Array.isArray(this.changeEvents)&&this.changeEvents.forEach(function(n){n.emit([t,e,o])}),!0===this.triggerOnce&&(this.enabled=!1))},e.prototype.conditionCheck=function(t,e){var o=n;switch(this.filterMode){case o.none:return!0;case o["=="]:if(t==e)return!0;break;case o["!="]:if(t!=e)return!0;break;case o["<"]:if(t<e)return!0;break;case o[">"]:if(t>e)return!0;break;case o[">="]:if(t>=e)return!0;break;case o["<"]:if(t<e)return!0;break;case o["<="]:if(t<=e)return!0}return!1},__decorate([a({tooltip:"\u4f7f\u7528\u6a21\u677f\u6a21\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u591a\u8def\u5f84\u76d1\u542c"})],e.prototype,"templateMode",void 0),__decorate([a({tooltip:"\u76d1\u542c\u83b7\u53d6\u503c\u7684\u8def\u5f84",visible:function(){return!1===this.templateMode}})],e.prototype,"watchPath",void 0),__decorate([a({tooltip:"\u89e6\u53d1\u4e00\u6b21\u540e\u4f1a\u81ea\u52a8\u5173\u95ed\u8be5\u4e8b\u4ef6"})],e.prototype,"triggerOnce",void 0),__decorate([a({tooltip:"\u76d1\u542c\u83b7\u53d6\u503c\u7684\u591a\u6761\u8def\u5f84,\u8fd9\u4e9b\u503c\u7684\u6539\u53d8\u90fd\u4f1a\u901a\u8fc7\u8fd9\u4e2a\u51fd\u6570\u56de\u8c03,\u8bf7\u4f7f\u7528 pathArr \u533a\u5206\u83b7\u53d6\u7684\u503c ",type:[cc.String],visible:function(){return!0===this.templateMode}})],e.prototype,"watchPathArr",void 0),__decorate([a({tooltip:"\u8fc7\u6ee4\u6a21\u5f0f\uff0c\u4f1a\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u6389\u65f6\u95f4\u7684\u89e6\u53d1",type:cc.Enum(n)})],e.prototype,"filterMode",void 0),__decorate([a({visible:function(){return this.filterMode!==n.none}})],e.prototype,"compareValue",void 0),__decorate([a([cc.Component.EventHandler])],e.prototype,"changeEvents",void 0),e=__decorate([c,s,p("ModelViewer/VM-EventCall(\u8c03\u7528\u51fd\u6570)")],e)}(i.default);o.default=l,cc._RF.pop()},{"./VMBase":"VMBase"}],VMLabel:[function(t,e,o){"use strict";cc._RF.push(e,"545c05XsG9GDJispEGWKvYv","VMLabel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./VMBase"),i=t("./StringFormat"),r=cc._decorator,c=r.ccclass,a=r.property,s=r.menu,p=r.executeInEditMode,l={CC_LABEL:"cc.Label",CC_RICH_TEXT:"cc.RichText",CC_EDIT_BOX:"cc.EditBox"},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.labelType=l.CC_LABEL,e.templateMode=!1,e.watchPathArr=[],e.templateValueArr=[],e.templateFormatArr=[],e.originText=null,e}return __extends(e,t),e.prototype.onRestore=function(){this.checkLabel()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate()),this.onValueInit()},e.prototype.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var o=0;o<e.length;o++){var n=e[o].match(t)[1].split(":")[1]||"";this.templateFormatArr[o]=n}},e.prototype.getReplaceText=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var o=this.originText,n=0;n<e.length;n++){var i,r=e[n],c=r.match(t),a=parseInt(c[1]||"0")||0,s=this.templateFormatArr[n];i=this.templateValueArr[a],o=o.replace(r,this.getValueFromFormat(i,s))}return o},e.prototype.getValueFromFormat=function(t,e){return i.StringFormatFunction.deal(t,e)},e.prototype.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},e.prototype.onValueChanged=function(t,e,o){if(!1===this.templateMode)this.setLabelValue(t);else{var n=o.join("."),i=this.watchPathArr.findIndex(function(t){return t===n});i>=0&&(this.templateValueArr[i]=t,this.setLabelValue(this.getReplaceText()))}},e.prototype.setLabelValue=function(t){this.getComponent(this.labelType).string=t+""},e.prototype.getLabelValue=function(){return this.getComponent(this.labelType).string},e.prototype.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var o=t[e];if(this.node.getComponent(o))return this.labelType=o,!0}return cc.error("\u6ca1\u6709\u6302\u8f7d\u4efb\u4f55label\u7ec4\u4ef6"),!1},__decorate([a({visible:function(){return!1===this.templateMode}})],e.prototype,"watchPath",void 0),__decorate([a({readonly:!0})],e.prototype,"labelType",void 0),__decorate([a({tooltip:"\u662f\u5426\u542f\u7528\u6a21\u677f\u4ee3\u7801,\u53ea\u80fd\u5728\u8fd0\u884c\u65f6\u4e4b\u524d\u8bbe\u7f6e,\n\u5c06\u4f1a\u52a8\u6001\u89e3\u6790\u6a21\u677f\u8bed\u6cd5 {{0}},\u5e76\u4e14\u81ea\u52a8\u8bbe\u7f6e\u76d1\u542c\u7684\u8def\u5f84"})],e.prototype,"templateMode",void 0),__decorate([a({type:[cc.String],visible:function(){return!0===this.templateMode}})],e.prototype,"watchPathArr",void 0),e=__decorate([c,p,s("ModelViewer/VM-Label(\u6587\u672cVM)")],e)}(n.default);o.default=u,cc._RF.pop()},{"./StringFormat":"StringFormat","./VMBase":"VMBase"}],VMModify:[function(t,e,o){"use strict";cc._RF.push(e,"7d2a4voaOJJGJZRWFPG6Bk7","VMModify"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("./VMBase"),r=cc._decorator,c=r.ccclass,a=r.property,s=r.menu;(function(t){t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.MIN_MAX=2]="MIN_MAX"})(n||(n={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.valueClamp=!1,e.valueClampMode=n.MIN_MAX,e.valueMin=0,e.valueMax=1,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.clampValue=function(t){var e=this.valueMin,o=this.valueMax;if(0==this.valueClamp)return t;switch(this.valueClampMode){case n.MIN_MAX:t>o&&(t=o),t<e&&(t=e);break;case n.MIN:t<e&&(t=e);break;case n.MAX:t>o&&(t=o)}return t},e.prototype.vAddInt=function(t,e){this.vAdd(t,e,!0)},e.prototype.vSubInt=function(t,e){this.vSub(t,e,!0)},e.prototype.vMulInt=function(t,e){this.vMul(t,e,!0)},e.prototype.vDivInt=function(t,e){this.vDiv(t,e,!0)},e.prototype.vAdd=function(t,e,o){void 0===o&&(o=!1);var n=parseFloat(e),i=this.VM.getValue(this.watchPath,0)+n;o&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},e.prototype.vSub=function(t,e,o){void 0===o&&(o=!1);var n=parseFloat(e),i=this.VM.getValue(this.watchPath,0)-n;o&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},e.prototype.vMul=function(t,e,o){void 0===o&&(o=!1);var n=parseFloat(e),i=this.VM.getValue(this.watchPath,0)*n;o&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},e.prototype.vDiv=function(t,e,o){void 0===o&&(o=!1);var n=parseFloat(e),i=this.VM.getValue(this.watchPath,0)/n;o&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},e.prototype.vString=function(t,e){var o=e;this.VM.setValue(this.watchPath,o)},e.prototype.vNumberInt=function(t,e){this.vNumber(t,e,!0)},e.prototype.vNumber=function(t,e,o){void 0===o&&(o=!1);var n=parseFloat(e);o&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},__decorate([a],e.prototype,"watchPath",void 0),__decorate([a()],e.prototype,"valueClamp",void 0),__decorate([a({type:cc.Enum(n),visible:function(){return!0===this.valueClamp}})],e.prototype,"valueClampMode",void 0),__decorate([a({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==n.MAX}})],e.prototype,"valueMin",void 0),__decorate([a({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==n.MIN}})],e.prototype,"valueMax",void 0),e=__decorate([c,s("ModelViewer/VM-Modify(\u4fee\u6539Model)")],e)}(i.default);o.default=p,cc._RF.pop()},{"./VMBase":"VMBase"}],VMParent:[function(t,e,o){"use strict";cc._RF.push(e,"15ccciO+ZRH476sPKD/LvB7","VMParent"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ViewModel"),i=cc._decorator,r=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tag="_temp",e.data={},e.VM=n.VM,e}return __extends(e,t),e.prototype.onLoad=function(){if(null!=this.data){this.tag="_temp<"+this.node.uuid.replace(".","")+">",n.VM.add(this.data,this.tag);for(var t=this.getVMComponents(),e=0;e<t.length;e++){var o=t[e];this.replaceVMPath(o,this.tag)}this.onBind()}},e.prototype.onBind=function(){},e.prototype.onUnBind=function(){},e.prototype.replaceVMPath=function(t,e){var o=t.watchPath;if(1==t.templateMode){var n=t.watchPathArr;if(n)for(var i=0;i<n.length;i++){var r=n[i];n[i]=r.replace("*",e)}}else"*"===o.split(".")[0]&&(t.watchPath=o.replace("*",e))},e.prototype.getVMComponents=function(){var t=this,e=this.node.getComponentsInChildren("VMBase"),o=[];return this.node.getComponentsInChildren("VMParent").filter(function(e){return e.uuid!==t.uuid}).forEach(function(t){o=o.concat(t.getComponentsInChildren("VMBase"))}),e=e.filter(function(t){return o.indexOf(t)<0})},e.prototype.onDestroy=function(){this.onUnBind(),n.VM.remove(this.tag),this.data=null},e=__decorate([r],e)}(cc.Component));o.default=c,cc._RF.pop()},{"./ViewModel":"ViewModel"}],VMProgress:[function(t,e,o){"use strict";cc._RF.push(e,"2a50eqI7JZNV5Sh0y/Qd9C6","VMProgress"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./VMCustom"),i=t("./StringFormat"),r=cc._decorator,c=r.ccclass,a=r.property,s=r.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.watchPathArr=["[min]","[max]"],e.templateMode=!0,e.stringFormat="",e}return __extends(e,t),e.prototype.onLoad=function(){(this.watchPathArr.length<2||"[min]"==this.watchPathArr[0]||"[max]"==this.watchPathArr[1])&&console.error("VMProgress must have two values!"),t.prototype.onLoad.call(this)},e.prototype.start=function(){this.onValueInit()},e.prototype.onValueInit=function(){for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e]);var o=this.templateValueArr[0]/this.templateValueArr[1];this.setComponentValue(o)},e.prototype.setComponentValue=function(e){if(""!==this.stringFormat){var o=i.StringFormatFunction.deal(e,this.stringFormat);t.prototype.setComponentValue.call(this,o)}else t.prototype.setComponentValue.call(this,e)},e.prototype.onValueController=function(t,e){var o=Math.round(t*this.templateValueArr[1]);Number.isNaN(o)&&(o=0),this.VM.setValue(this.watchPathArr[0],o)},e.prototype.onValueChanged=function(t,e,o){if(!1!==this.templateMode){var n=o.join("."),i=this.watchPathArr.findIndex(function(t){return t===n});i>=0&&(this.templateValueArr[i]=t);var r=this.templateValueArr[0]/this.templateValueArr[1];r>1&&(r=1),(r<0||Number.isNaN(r))&&(r=0),this.setComponentValue(r)}},__decorate([a({visible:!1,override:!0})],e.prototype,"watchPath",void 0),__decorate([a({type:[cc.String],tooltip:"\u7b2c\u4e00\u4e2a\u503c\u662fmin \u503c\uff0c\u7b2c\u4e8c\u4e2a\u503c \u662f max \u503c\uff0c\u4f1a\u8ba1\u7b97\u51fa\u4e24\u8005\u7684\u6bd4\u4f8b"})],e.prototype,"watchPathArr",void 0),__decorate([a({visible:function(){return"string"===this.componentProperty},tooltip:"\u5b57\u7b26\u4e32\u683c\u5f0f\u5316\uff0c\u548c VMLabel \u7684\u5b57\u6bb5\u4e00\u6837\uff0c\u9700\u8981\u586b\u5165\u5bf9\u5e94\u7684\u683c\u5f0f\u5316\u5b57\u7b26\u4e32"})],e.prototype,"stringFormat",void 0),e=__decorate([c,s("ModelViewer/VM-Progress (VM-\u8fdb\u5ea6\u6761)")],e)}(n.default);o.default=p,cc._RF.pop()},{"./StringFormat":"StringFormat","./VMCustom":"VMCustom"}],VMState:[function(t,e,o){"use strict";cc._RF.push(e,"47052uw/Y5O1LXaLObj4ARx","VMState"),Object.defineProperty(o,"__esModule",{value:!0});var n,i,r,c=t("./ViewModel"),a=t("./VMBase"),s=cc._decorator,p=s.ccclass,l=s.property,u=s.menu;(function(t){t[t["=="]=0]="==",t[t["!="]=1]="!=",t[t[">"]=2]=">",t[t[">="]=3]=">=",t[t["<"]=4]="<",t[t["<="]=5]="<=",t[t.range=6]="range"})(n||(n={})),function(t){t[t.NODE_ACTIVE=0]="NODE_ACTIVE",t[t.NODE_VISIBLE=1]="NODE_VISIBLE",t[t.NODE_OPACITY=2]="NODE_OPACITY",t[t.NODE_COLOR=3]="NODE_COLOR",t[t.COMPONENT_CUSTOM=4]="COMPONENT_CUSTOM"}(i||(i={})),function(t){t[t.NODE_INDEX=0]="NODE_INDEX",t[t.NODE_NAME=1]="NODE_NAME"}(r||(r={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.foreachChildMode=!1,e.condition=n["=="],e.foreachChildType=r.NODE_INDEX,e.valueA=0,e.valueB=0,e.valueAction=i.NODE_ACTIVE,e.valueActionOpacity=0,e.valueActionColor=cc.color(155,155,155),e.valueComponentName="",e.valueComponentProperty="",e.valueComponentDefaultValue="",e.valueComponentActionValue="",e.watchNodes=[],e}return __extends(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),0==this.watchNodes.length&&(this.valueAction!==i.NODE_ACTIVE&&!1===this.foreachChildMode&&this.watchNodes.push(this.node),this.watchNodes=this.watchNodes.concat(this.node.children)),this.enabled&&this.onValueInit()},e.prototype.start=function(){},e.prototype.onValueInit=function(){var t=c.VM.getValue(this.watchPath);this.checkNodeFromValue(t)},e.prototype.onValueChanged=function(t,e,o){this.checkNodeFromValue(t)},e.prototype.checkNodeFromValue=function(t){var e=this;if(this.foreachChildMode)this.watchNodes.forEach(function(o,n){var i=e.foreachChildType===r.NODE_INDEX?n:o.name,c=e.conditionCheck(t,i);e.setNodeState(o,c)});else{var o=this.conditionCheck(t,this.valueA,this.valueB);this.setNodesStates(o)}},e.prototype.setNodesStates=function(t){var e=this,o=t;this.watchNodes.forEach(function(t){e.setNodeState(t,o)})},e.prototype.setNodeState=function(t,e){var o=this.valueAction,n=e,r=i;switch(o){case r.NODE_ACTIVE:t.active=!!n;break;case r.NODE_VISIBLE:t.opacity=n?255:0;break;case r.NODE_COLOR:t.color=n?this.valueActionColor:cc.color(255,255,255);break;case r.NODE_OPACITY:t.opacity=n?this.valueActionOpacity:255;break;case r.COMPONENT_CUSTOM:var c=t.getComponent(this.valueComponentName);if(null==c)return;this.valueComponentProperty in c&&(c[this.valueComponentProperty]=n?this.valueComponentActionValue:this.valueComponentDefaultValue)}},e.prototype.conditionCheck=function(t,e,o){var i=n;switch(this.condition){case i["=="]:if(t==e)return!0;break;case i["!="]:if(t!=e)return!0;break;case i["<"]:if(t<e)return!0;break;case i[">"]:if(t>e)return!0;break;case i[">="]:if(t>=e)return!0;break;case i["<"]:if(t<e)return!0;break;case i["<="]:if(t<=e)return!0;break;case i.range:if(t>=e&&t<=o)return!0}return!1},__decorate([l],e.prototype,"watchPath",void 0),__decorate([l({tooltip:"\u904d\u5386\u5b50\u8282\u70b9,\u6839\u636e\u5b50\u8282\u70b9\u7684\u540d\u5b57\u6216\u540d\u5b57\u8f6c\u6362\u4e3a\u503c\uff0c\u5224\u65ad\u503c\u6ee1\u8db3\u6761\u4ef6 \u6765\u6fc0\u6d3b"})],e.prototype,"foreachChildMode",void 0),__decorate([l({type:cc.Enum(n)})],e.prototype,"condition",void 0),__decorate([l({type:cc.Enum(r),tooltip:"\u904d\u5386\u5b50\u8282\u70b9,\u6839\u636e\u5b50\u8282\u70b9\u7684\u540d\u5b57\u8f6c\u6362\u4e3a\u503c\uff0c\u5224\u65ad\u503c\u6ee1\u8db3\u6761\u4ef6 \u6765\u6fc0\u6d3b",visible:function(){return!0===this.foreachChildMode}})],e.prototype,"foreachChildType",void 0),__decorate([l({displayName:"Value: a",visible:function(){return!1===this.foreachChildMode}})],e.prototype,"valueA",void 0),__decorate([l({displayName:"Value: b",visible:function(){return!1===this.foreachChildMode&&this.condition===n.range}})],e.prototype,"valueB",void 0),__decorate([l({type:cc.Enum(i),tooltip:"\u4e00\u65e6\u6ee1\u8db3\u6761\u4ef6\u5c31\u5bf9\u8282\u70b9\u6267\u884c\u64cd\u4f5c"})],e.prototype,"valueAction",void 0),__decorate([l({visible:function(){return this.valueAction===i.NODE_OPACITY},range:[0,255],type:cc.Integer,displayName:"Action Opacity"})],e.prototype,"valueActionOpacity",void 0),__decorate([l({visible:function(){return this.valueAction===i.NODE_COLOR},displayName:"Action Color"})],e.prototype,"valueActionColor",void 0),__decorate([l({visible:function(){return this.valueAction===i.COMPONENT_CUSTOM},displayName:"Component Name"})],e.prototype,"valueComponentName",void 0),__decorate([l({visible:function(){return this.valueAction===i.COMPONENT_CUSTOM},displayName:"Component Property"})],e.prototype,"valueComponentProperty",void 0),__decorate([l({visible:function(){return this.valueAction===i.COMPONENT_CUSTOM},displayName:"Default Value"})],e.prototype,"valueComponentDefaultValue",void 0),__decorate([l({visible:function(){return this.valueAction===i.COMPONENT_CUSTOM},displayName:"Action Value"})],e.prototype,"valueComponentActionValue",void 0),__decorate([l({type:[cc.Node],tooltip:"\u9700\u8981\u6267\u884c\u6761\u4ef6\u7684\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u586b\u5199\u5219\u9ed8\u8ba4\u4f1a\u6267\u884c\u672c\u8282\u70b9\u4ee5\u53ca\u672c\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9 \u7684\u72b6\u6001"})],e.prototype,"watchNodes",void 0),e=__decorate([p,u("ModelViewer/VM-State (VM\u72b6\u6001\u63a7\u5236)")],e)}(a.default);o.default=h,cc._RF.pop()},{"./VMBase":"VMBase","./ViewModel":"ViewModel"}],ViewModel:[function(t,e,o){"use strict";cc._RF.push(e,"54f75k4X+RP0qaXOzrfZysL","ViewModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./JsonOb"),i="VC:";function r(t,e,o,n){void 0===n&&(n="");for(var i=e.split("."),r=0;r<i.length;r++){var c=i[r];if(c in t==!1){console.error("["+c+"] not find in "+n+"."+e);break}r==i.length-1?t[c]=o:t=t[c]}}function c(t,e,o,n){void 0===n&&(n="");for(var i=e.split("."),r=0;r<i.length;r++){var c=i[r];if(c in t==!1)return console.error("["+c+"] not find in "+n+"."+e),o;t=t[c]}return null!==t&&void 0!==t||(t=o),t}var a=function(){function t(t,e){this._tag=null,this.active=!0,this.emitToRootPath=!1,new n.JsonOb(t,this._callback.bind(this)),this.$data=t,this._tag=e}return t.prototype._callback=function(t,e,o){if(1==this.active){var n=i+this._tag+"."+o.join(".");if(cc.director.emit(n,t,e,[this._tag].concat(o)),this.emitToRootPath&&cc.director.emit(i+this._tag,t,e,o),o.length>=2)for(var r=0;r<o.length-1;r++)o[r]}},t.prototype.setValue=function(t,e){r(this.$data,t,e,this._tag)},t.prototype.getValue=function(t,e){return c(this.$data,t,e,this._tag)},t}(),s=function(){function t(){this._mvs=[],this.EMIT_HEAD=i,this.setObjValue=r,this.getObjValue=c}return t.prototype.add=function(t,e,o){void 0===e&&(e="global"),void 0===o&&(o=!1);var n=new a(t,e),i=this._mvs.find(function(t){return t.tag===e});e.includes(".")?console.error("cant write . in tag:",e):i?console.error("already set VM tag:"+e):(n.emitToRootPath=o,this._mvs.push({tag:e,vm:n}))},t.prototype.remove=function(t){var e=this._mvs.findIndex(function(e){return e.tag===t});e>=0&&this._mvs.splice(e,1)},t.prototype.get=function(t){var e=this._mvs.find(function(e){return e.tag===t});if(null!=e)return e.vm;console.error("cant find VM from:",t)},t.prototype.addValue=function(t,e){var o=(t=t.trim()).split(".");o.length<2&&console.error("Cant find path:"+t);var n=this.get(o[0]);if(n){var i=o.slice(1).join(".");n.setValue(i,n.getValue(i)+e)}else console.error("Cant Set VM:"+o[0])},t.prototype.getValue=function(t,e){var o=(t=t.trim()).split(".");if(o.length<2)console.error("Get Value Cant find path:"+t);else{var n=this.get(o[0]);if(n)return n.getValue(o.slice(1).join("."),e);console.error("Cant Get VM:"+o[0])}},t.prototype.setValue=function(t,e){var o=(t=t.trim()).split(".");if(o.length<2)console.error("Set Value Cant find path:"+t);else{var n=this.get(o[0]);n?n.setValue(o.slice(1).join("."),e):console.error("Cant Set VM:"+o[0])}},t.prototype.bindPath=function(t,e,o,n){""!=(t=t.trim())?"*"!==t.split(".")[0]?cc.director.on(i+t,e,o,n):console.error(t,"\u8def\u5f84\u4e0d\u5408\u6cd5,\u53ef\u80fd\u9519\u8bef\u8986\u76d6\u4e86 VMParent \u7684onLoad \u65b9\u6cd5, \u6216\u8005\u7236\u8282\u70b9\u5e76\u672a\u6302\u8f7d VMParent \u76f8\u5173\u7684\u7ec4\u4ef6\u811a\u672c"):console.error(o.node.name,"\u8282\u70b9\u7ed1\u5b9a\u7684\u8def\u5f84\u4e3a\u7a7a")},t.prototype.unbindPath=function(t,e,o){"*"!==(t=t.trim()).split(".")[0]?cc.director.off(i+t,e,o):console.error(t,"\u8def\u5f84\u4e0d\u5408\u6cd5,\u53ef\u80fd\u9519\u8bef\u8986\u76d6\u4e86 VMParent \u7684onLoad \u65b9\u6cd5, \u6216\u8005\u7236\u8282\u70b9\u5e76\u672a\u6302\u8f7d VMParent \u76f8\u5173\u7684\u7ec4\u4ef6\u811a\u672c")},t.prototype.inactive=function(){this._mvs.forEach(function(t){t.vm.active=!1})},t.prototype.active=function(){this._mvs.forEach(function(t){t.vm.active=!0})},t}();o.VM=new s,cc._RF.pop()},{"./JsonOb":"JsonOb"}],"\u5206\u6570":[function(t,e,o){"use strict";cc._RF.push(e,"533f4eNZD9FabA9qw+cffMg","\u5206\u6570"),cc.Class({extends:cc.Component,properties:{count:0},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],"\u521d\u59cb\u52a0\u8f7d":[function(t,e,o){"use strict";cc._RF.push(e,"aa2e7nVg2RHaKDVJ0VJaCUK","\u521d\u59cb\u52a0\u8f7d"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){cc.director.loadScene("\u5f00\u59cb\u754c\u9762")}}),cc._RF.pop()},{}],"\u52a0\u8f7d\u6392\u884c\u699c\u4fe1\u606f":[function(t,e,o){"use strict";cc._RF.push(e,"c27b9azQdNBxpT0OGLFn7nn","\u52a0\u8f7d\u6392\u884c\u699c\u4fe1\u606f"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){cc.director.loadScene("\u6392\u884c\u699c")})}}),cc._RF.pop()},{}],"\u5de6\u4fa7\u602a\u7269\u79fb\u52a8":[function(t,e,o){"use strict";cc._RF.push(e,"aabdfgHjQdPOYE/SJ95vzGw","\u5de6\u4fa7\u602a\u7269\u79fb\u52a8"),cc.Class({extends:cc.Component,properties:{speed:250,audioSourse:{type:cc.AudioSource,default:null}},onCollisionEnter:function(t,e){this.audioSourse.play(),cc.director.loadScene("\u6b7b\u4ea1\u754c\u9762")},start:function(){},update:function(t){this.node.x+=this.speed*t}}),cc._RF.pop()},{}],"\u5f00\u59cb\u6e38\u620f":[function(t,e,o){"use strict";cc._RF.push(e,"83c113M405HnqhQpOm4b77l","\u5f00\u59cb\u6e38\u620f"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){cc.director.loadScene("\u6e38\u620f\u754c\u9762")})}}),cc._RF.pop()},{}],"\u6e38\u620f\u5185\u8fd4\u56de":[function(t,e,o){"use strict";cc._RF.push(e,"7a51d25l7ZF55UDfi46CU3o","\u6e38\u620f\u5185\u8fd4\u56de"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene("\u5f00\u59cb\u754c\u9762")})},update:function(t){this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene("\u5f00\u59cb\u754c\u9762")}),this.node.active=!0;var e=this.target.convertToWorldSpaceAR(cc.v2(0,0)),o=this.node.parent.convertToNodeSpaceAR(e);this.node.x=o.x-100,this.node.y=550}}),cc._RF.pop()},{}],"\u6e38\u620f\u80dc\u5229":[function(t,e,o){"use strict";cc._RF.push(e,"4c820S4vOVI+YIq826VQlwd","\u6e38\u620f\u80dc\u5229"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(t,e){this.scheduleOnce(function(){cc.director.loadScene("\u6e38\u620f\u80dc\u5229")},.5)},onLoad:function(){},start:function(){},update:function(t){}}),cc._RF.pop()},{}],"\u89d2\u8272\u63a7\u5236":[function(t,e,o){"use strict";cc._RF.push(e,"aa744NrDTBKZJ5J6alvSq8H","\u89d2\u8272\u63a7\u5236"),cc.Class({extends:cc.Component,properties:{speed:cc.v2(0,0),movespeed:400,maxSpeed:cc.v2(2e3,2e3),gravity:-1e3,drag:1e3,direction:0,jumpSpeed:300,stopScene:{type:cc.Layout,default:null},stopflag:!1,count:0},onLoad:function(){this.animflag=!1,this.directionright=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyPressed,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyReleased,this),this.collisionX=0,this.collisionY=0,this.prePosition=cc.v2(),this.preStep=cc.v2(),this.touchingNumber=0,this.stopScene.node.active=!1},onEnable:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!1},onDisable:function(){cc.director.getCollisionManager().enabled=!1,cc.director.getCollisionManager().enabledDebugDraw=!1},onKeyPressed:function(t){var e=this.getComponent(cc.Animation);switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:if(this.direction=-1,0==this.animflag)e.play("\u89d2\u8272\u5de6\u79fb"),e.play("\u89d2\u8272\u5de6\u79fb").speed=2.5,this.animflag=!0,this.directionright=!1;break;case cc.macro.KEY.d:case cc.macro.KEY.right:if(this.direction=1,0==this.animflag)e.play("\u89d2\u8272\u53f3\u79fb"),e.play("\u89d2\u8272\u53f3\u79fb").speed=2.5,this.animflag=!0,this.directionright=!0;break;case cc.macro.KEY.w:case cc.macro.KEY.up:this.jumping||(this.jumping=!0,this.speed.y=this.jumpSpeed),0==this.animflag&&(1==this.directionright?e.play("\u89d2\u8272\u53f3\u8df3\u8dc3"):0==this.directionright&&e.play("\u89d2\u8272\u5de6\u8df3\u8dc3"),this.animflag=!0);break;case cc.macro.KEY.escape:cc.director.loadScene("\u5f00\u59cb\u754c\u9762");break;default:this.count++,1==this.count?(this.stopflag=!0,this.stopScene.node.active=!0):(this.stopflag=!1,this.stopScene.node.active=!1,cc.director.resume(),this.count=0)}},onKeyReleased:function(t){var e=this.getComponent(cc.Animation);switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:case cc.macro.KEY.d:case cc.macro.KEY.right:e.pause("\u89d2\u8272\u53f3\u79fb"),e.pause("\u89d2\u8272\u5de6\u79fb"),1==this.animflag&&(1==this.directionright?e.play("\u53f3\u505c\u6b62"):0==this.directionright&&e.play("\u5de6\u505c\u6b62")),this.direction=0,this.animflag=!1;break;case cc.macro.KEY.w:case cc.macro.KEY.up:this.animflag=!1}},onCollisionEnter:function(t,e){this.touchingNumber++;var o=t.world.aabb,n=t.world.preAabb.clone(),i=e.world.aabb,r=e.world.preAabb.clone();if(r.x=i.x,n.x=o.x,cc.Intersection.rectRect(r,n))return this.speed.x<0&&r.xMax>n.xMax?this.collisionX=-1:this.speed.x>0&&r.xMin<n.xMin&&(this.collisionX=1),"Platform"===t.node.group&&(this.speed.x=0),void(t.touchingX=!0);r.y=i.y,n.y=o.y,cc.Intersection.rectRect(r,n)&&(this.speed.y<0&&r.yMax>n.yMax?(this.node.y=n.yMax-this.node.parent.y,this.jumping=!1,this.collisionY=-1):this.speed.y>0&&r.yMin<n.yMin&&(this.node.y=n.yMin-r.height-this.node.parent.y,this.collisionY=1),this.speed.y=0,t.touchingY=!0)},onCollisionExit:function(t){this.touchingNumber--,t.touchingX?(this.collisionX=0,t.touchingX=!1):t.touchingY&&(t.touchingY=!1,this.collisionY=0,this.jumping=!0)},update:function(t){1==this.stopflag&&cc.director.pause(),0===this.collisionY&&(this.speed.y+=this.gravity*t,Math.abs(this.speed.y)>this.maxSpeed.y&&(this.speed.y=this.speed.y>0?this.maxSpeed.y:-this.maxSpeed.y)),0===this.direction?this.speed.x>0?(this.speed.x-=this.drag*t,this.speed.x<=0&&(this.speed.x=0)):this.speed.x<0&&(this.speed.x+=this.drag*t,this.speed.x>=0&&(this.speed.x=0)):(this.speed.x+=(this.direction>0?1:-1)*this.drag*t,Math.abs(this.speed.x)>this.maxSpeed.x&&(this.speed.x=this.speed.x>0?this.maxSpeed.x:-this.maxSpeed.x)),this.speed.x*this.collisionX>0&&(this.speed.x=0),this.prePosition.x=this.node.x,this.prePosition.y=this.node.y,this.preStep.x=this.speed.x*t,this.preStep.y=this.speed.y*t,this.node.x+=this.speed.x*t,this.node.y+=this.speed.y*t}}),cc._RF.pop()},{}],"\u89d2\u8272\u6b7b\u4ea1":[function(t,e,o){"use strict";cc._RF.push(e,"eb7bbyM/IhGKog5NFSKenZO","\u89d2\u8272\u6b7b\u4ea1"),cc.Class({extends:cc.Component,properties:{audioSourse:{type:cc.AudioSource,default:null}},onCollisionEnter:function(t,e){this.audioSourse.play(),cc.director.loadScene("\u6b7b\u4ea1\u754c\u9762")},onLoad:function(){},start:function(){this.game_over=!1,this.firstLoad=!0},update:function(t){}}),cc._RF.pop()},{}],"\u89e3\u9664\u6682\u505c":[function(t,e,o){"use strict";cc._RF.push(e,"9f2c6jgYGBDEaFJNgbftJ7v","\u89e3\u9664\u6682\u505c"),cc.Class({extends:cc.Component,properties:{player:{type:cc.Node,default:null},stopscene:{type:cc.Layout,default:null}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){this.stopscene.node.active=!1,this.player.stopflag=!1,cc.director.resume()})},start:function(){},update:function(t){}}),cc._RF.pop()},{}],"\u8ba1\u5206":[function(t,e,o){"use strict";cc._RF.push(e,"5c5b5ed+yRAGb945AuZGP1f","\u8ba1\u5206"),cc.Class({extends:cc.Component,properties:{target:cc.Node,label:{type:cc.Label,default:null}},onCollisionEnter:function(t,e){this.target.destroy(),this.label.count++,this.label.string="\u5206\u6570: "+this.label.count},onLoad:function(){},start:function(){this.label.count=0},update:function(t){}}),cc._RF.pop()},{}],"\u8ba1\u7b97\u603b\u5206":[function(t,e,o){"use strict";cc._RF.push(e,"d605fzRVCNMNZ3+qR1o7HXt","\u8ba1\u7b97\u603b\u5206");cc.Class({extends:cc.Component,properties:{label:{type:cc.Label,default:null}},onLoad:function(){this.label.string="\u60a8\u5230\u8fbe\u4e86\u7ec8\u70b9\uff0c\u60a8\u7684\u5206\u6570\u4e3a:0"},start:function(){}}),cc._RF.pop()},{}],"\u8fd4\u56de\u4e3b\u754c\u9762":[function(t,e,o){"use strict";cc._RF.push(e,"74bb4Qi5+FLgYIv+iqLZbGj","\u8fd4\u56de\u4e3b\u754c\u9762"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.preloadScene("\u5f00\u59cb\u754c\u9762"),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){cc.director.loadScene("\u5f00\u59cb\u754c\u9762")})}}),cc._RF.pop()},{}],"\u8fdb\u5ea6\u6761":[function(t,e,o){"use strict";cc._RF.push(e,"bb9a21zRJFK8raJya3cFt/q","\u8fdb\u5ea6\u6761"),cc.Class({extends:cc.Component,properties:{speed:.001,target:{type:cc.ProgressBar,default:null}},onLoad:function(){this._pingpong=!0,this.target.progress=0},update:function(t){this._updateProgressBar(this.target,t)},_updateProgressBar:function(t,e){var o=t.progress;o<1&&this._pingpong&&(o+=e*this.speed),t.progress=o}}),cc._RF.pop()},{}],"\u9000\u51fa\u6e38\u620f":[function(t,e,o){"use strict";cc._RF.push(e,"6262cn0dBNCML9p3tJdpPf5","\u9000\u51fa\u6e38\u620f"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){cc.game.end()})}}),cc._RF.pop()},{}],"\u91cd\u73a9\u6e38\u620f":[function(t,e,o){"use strict";cc._RF.push(e,"913ef50O2JEM75mYNLd1uc2","\u91cd\u73a9\u6e38\u620f"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){cc.director.loadScene("\u6e38\u620f\u754c\u9762")})}}),cc._RF.pop()},{}],"\u955c\u5934\u8ddf\u8e2a":[function(t,e,o){"use strict";var n;function i(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}cc._RF.push(e,"47a5aZnb9NLKaNVrikAWugW","\u955c\u5934\u8ddf\u8e2a"),cc.Class((i(n={extends:cc.Component,editor:{requireComponent:cc.Camera}},"extends",cc.Component),i(n,"properties",{target:{default:null,type:cc.Node}}),i(n,"start",function(){this.camera=this.getComponent(cc.Camera)}),i(n,"update",function(t){var e=this.target.convertToWorldSpaceAR(cc.v2(0,0)),o=this.node.parent.convertToNodeSpaceAR(e);this.node.x=o.x+300,this.node.y=320}),n)),cc._RF.pop()},{}]},{},["JsonOb","StringFormat","VMBase","VMCompsEdit","VMCustom","VMEvent","VMLabel","VMModify","VMParent","VMProgress","VMState","ViewModel","\u5206\u6570","\u521d\u59cb\u52a0\u8f7d","\u52a0\u8f7d\u6392\u884c\u699c\u4fe1\u606f","\u5de6\u4fa7\u602a\u7269\u79fb\u52a8","\u5f00\u59cb\u6e38\u620f","\u6e38\u620f\u5185\u8fd4\u56de","\u6e38\u620f\u80dc\u5229","\u89d2\u8272\u63a7\u5236","\u89d2\u8272\u6b7b\u4ea1","\u89e3\u9664\u6682\u505c","\u8ba1\u5206","\u8ba1\u7b97\u603b\u5206","\u8fd4\u56de\u4e3b\u754c\u9762","\u8fdb\u5ea6\u6761","\u9000\u51fa\u6e38\u620f","\u91cd\u73a9\u6e38\u620f","\u955c\u5934\u8ddf\u8e2a"]);